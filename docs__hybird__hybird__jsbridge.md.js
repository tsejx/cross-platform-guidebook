(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{cDn4:function(e,l,a){"use strict";a.r(l);var n=a("q1tI"),t=a.n(n),r=(a("B2uJ"),a("+su7"),a("qOys")),c=a.n(r);a("5Yjd");l["default"]=function(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"jsbridge"},t.a.createElement("a",{"aria-hidden":"true",href:"#jsbridge"},t.a.createElement("span",{className:"icon icon-link"})),"JSBridge"),t.a.createElement("h2",{id:"\u5b9e\u73b0\u5f62\u5f0f"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b9e\u73b0\u5f62\u5f0f"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u5f62\u5f0f"),t.a.createElement("h2",{id:"\u5b89\u5168\u95ee\u9898"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5b89\u5168\u95ee\u9898"},t.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u5168\u95ee\u9898"),t.a.createElement("p",null,"\u5728 APP \u5185 JSBridge \u53ef\u4ee5\u5b9e\u73b0 Web \u548c Native \u7684\u901a\u4fe1\uff0c\u4f46\u662f\u5982\u679c APP \u6253\u5f00\u4e00\u4e2a\u6076\u610f\u7684\u9875\u9762\uff0c\u9875\u9762\u53ef\u4ee5\u4efb\u610f\u8c03\u7528 JSBridge \u65b9\u6cd5\uff0c\u83b7\u53d6\u5404\u79cd\u9690\u79c1\u7684\u6570\u636e\uff0c\u5c31\u4f1a\u5f15\u8d77\u5b89\u5168\u95ee\u9898\u3002"),t.a.createElement("p",null,"JSBridge \u7684\u5b89\u5168\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u901a\u8fc7 Native \u8fdb\u884c\u767d\u540d\u5355\u914d\u7f6e\uff0c\u901a\u8fc7 Server \u4e91\u7aef\u6388\u6743\uff08Server \u7684\u4e91\u7aef\u6388\u6743\u8fd9\u5757\uff0c\u653e\u5230\u540e\u7eed JSSDK \u7684\u8bbe\u8ba1\u90e8\u5206\u8fdb\u884c\u8be6\u7ec6\u8bb2\u89e3\uff09"),t.a.createElement("li",null,"\u901a\u8fc7 Native \u7684\u65b9\u5f0f\u6765\u63a7\u5236 JSBridge \u7684\u5b89\u5168\u3002")),t.a.createElement("h3",{id:"\u4e91\u7aef\u6388\u6743"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u4e91\u7aef\u6388\u6743"},t.a.createElement("span",{className:"icon icon-link"})),"\u4e91\u7aef\u6388\u6743"),t.a.createElement("h3",{id:"\u9650\u5b9a\u57df\u540d\u6743\u9650"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u9650\u5b9a\u57df\u540d\u6743\u9650"},t.a.createElement("span",{className:"icon icon-link"})),"\u9650\u5b9a\u57df\u540d\u6743\u9650"),t.a.createElement("p",null,"\u5047\u8bbe JSBridge \u7684\u534f\u8bae\u683c\u5f0f\u5982\u4e0b\uff1a"),t.a.createElement(c.a,{code:"hybrid://action/method?arg1=xxx&arg2=xxx\n",lang:"js"}),t.a.createElement("p",null,"\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u65b9\u5f0f\u8fdb\u884c\u5b89\u5168\u8bbe\u7f6e\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u914d\u7f6e\u67d0\u4e9b\u65b9\u6cd5\u7684\u4f7f\u7528\u8303\u56f4\uff0c\u6bd4\u5982\u56fa\u5b9a\u7684 Webview\uff0c\u56fa\u5b9a\u7684 ",t.a.createElement("code",null,"domain")),t.a.createElement("li",null,"\u901a\u8fc7\u6b63\u5219\u6765\u8bbe\u7f6e\u7ec6\u5316\u7684\u6743\u9650\uff0c\u6bd4\u5982\uff1a",t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"baidu.com")," \u7f51\u9875\u53ef\u4ee5\u4f7f\u7528 ",t.a.createElement("code",null,"*")),t.a.createElement("li",null,t.a.createElement("code",null,"taobao.com")," \u53ef\u4ee5\u4f7f\u7528\uff1a",t.a.createElement("code",null,"hybrid://taobao/*"))))),t.a.createElement("h2",{id:"\u6700\u4f73\u5b9e\u8df5"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6700\u4f73\u5b9e\u8df5"},t.a.createElement("span",{className:"icon icon-link"})),"\u6700\u4f73\u5b9e\u8df5"),t.a.createElement("blockquote",null,t.a.createElement("p",null,"\u4ec0\u4e48\u662f\u6700\u4f73\u5b9e\u8df5\u7684 JSBridge \u5462\uff1f")),t.a.createElement("p",null,"\u7ed3\u5408\u6587\u7ae0\u5185\u5bb9\uff0c\u8981\u6c42 JSBridge \u505a\u5230\u4ee5\u4e0b\u51e0\u70b9\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5b98\u65b9\u8ba4\u53ef\uff0c\u7b26\u5408\u89c4\u8303"),t.a.createElement("li",null,"\u8de8\u5e73\u53f0\u901a\u7528"),t.a.createElement("li",null,"APP \u5185\u548c APP \u5916\u89c4\u8303\u901a\u7528"),t.a.createElement("li",null,"\u5b89\u5168\u53ef\u9760"),t.a.createElement("li",null,"\u7ea6\u5b9a\u5927\u4e8e\u914d\u7f6e\u7684\u539f\u5219")),t.a.createElement("p",null,"\u7efc\u5408\u4e0a\u6587\u4ecb\u7ecd\u7684\u5185\u5bb9\uff0cJSBridge \u7684\u6700\u4f73\u5b9e\u8df5\u662f\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u534f\u8bae\u89c4\u8303\u90fd\u4f7f\u7528\uff1a",t.a.createElement("code",null,"hybrid://action/method?arg1=xxx&arg2=xxx")),t.a.createElement("li",null,"iOS \u4f7f\u7528 Universal Link \u548c UIWebview \u7684 ",t.a.createElement("code",null,"delegate")),t.a.createElement("li",null,"\u5b89\u5353\u4f7f\u7528 ",t.a.createElement("code",null,"shouldOverrideUrlLoading")," \u548c Applink")),t.a.createElement("h3",{id:"\u89c4\u8303\u548c\u7ea6\u5b9a"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u89c4\u8303\u548c\u7ea6\u5b9a"},t.a.createElement("span",{className:"icon icon-link"})),"\u89c4\u8303\u548c\u7ea6\u5b9a"),t.a.createElement("p",null,"\u5148\u8d34\u4e2a URL scheme \u7684\u56fe\u7247\uff0c\u7406\u89e3\u4e0b URL \u7684\u7ec4\u6210\u90e8\u5206\uff1a"),t.a.createElement("p",null,"\u7ea6\u5b9a\u6211\u4eec\u7684\u89c4\u8303\u5982\u4e0b\uff1a"),t.a.createElement(c.a,{code:"yourappscheme://module/action?arg1=x&arg2=x&ios_version=xxx&andr_version=xxx&upgrade=1/0&callback=xxx&sendlog=1/0\n",lang:"plain"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u6574\u4f53\u5c0f\u5199"),t.a.createElement("li",null,t.a.createElement("code",null,"yourappscheme"),"\uff1a\u5c31\u662f\u4f60\u7684 scheme\uff0c\u53ef\u8fa8\u8bc6\uff0c\u522b\u51b2\u7a81\uff0c\u901a\u8fc7\u8fd9\u4e2a\u53ef\u4ee5\u8fdb\u884c Universal Link \u548c Applink \u7684\u5206\u53d1"),t.a.createElement("li",null,t.a.createElement("code",null,"module")," \u548c ",t.a.createElement("code",null,"action"),"\uff1a\u67d0\u4e2a\u6a21\u5757\u7ec4\u4ef6\u7684\u67d0\u4e2a\u65b9\u6cd5"),t.a.createElement("li",null,t.a.createElement("code",null,"?")," \u540e\u9762\u662f ",t.a.createElement("code",null,"querystring"),"\uff0c\u8fd9\u91cc\u9884\u5b9a\u4e86\u51e0\u4e2a\u7279\u6b8a\u7684\u53c2\u6570\uff1a",t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"ios_version/andr_version"),"\uff1a\u975e\u5fc5\u987b\uff0ciOS \u548c\u5b89\u5353\u7684\u6700\u5c0f\u7248\u672c\uff0c\u5373\u672c\u534f\u8bae\u4ece\u54ea\u4e2a\u7248\u672c\u5f00\u59cb\u652f\u6301\u7684\uff0c\u4f4e\u7248\u672c\u4e0d\u652f\u6301\u5219\u5ffd\u7565\uff0c\u914d\u5408 upgrade \u4f7f\u7528\u8fdb\u884c APP \u5347\u7ea7"),t.a.createElement("li",null,t.a.createElement("code",null,"upgrade"),"\uff1a\u662f\u5426\u5f3a\u5236\u5347\u7ea7\uff0c\u5373\u5f53\u7248\u672c\u4f4e\u4e8e\u8bbe\u7f6e\u7684 ios/andr_version \u662f\u5426\u5f39\u51fa\u63d0\u793a\u7528\u6237\u5347\u7ea7\u7684\u5bf9\u8bdd\u6846\uff08yourappscheme \u5df2\u7ecf\u53ef\u4ee5\u8c03\u8d77 app\uff0c\u53ea\u4e0d\u8fc7\u529f\u80fd\u53ef\u80fd\u56e0\u4e3a\u7248\u672c\u4f4e\u4e0d\u652f\u6301\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5f15\u5bfc\u7528\u6237\u5347\u7ea7\uff09"),t.a.createElement("li",null,t.a.createElement("code",null,"callback"),"\uff1a\u5f02\u6b65\u56de\u8c03\u51fd\u6570\uff0c\u4e0b\u9762\u8be6\u7ec6\u6811\u4e0b callback \u7684\u6700\u4f73\u5b9e\u8df5"),t.a.createElement("li",null,t.a.createElement("code",null,"sendlog"),"\uff1a\u8c03\u8d77\u540e\u662f\u5426\u6253\u70b9\u53d1\u9001\u65e5\u5fd7")))),t.a.createElement("p",null,"\u793a\u4f8b\uff1a"),t.a.createElement(c.a,{code:"// \u8d26\u53f7\u76f8\u5173\n// \u6253\u5f00\u7528\u6237\u4e2a\u4eba\u4e3b\u9875\nfb://account/userprofile?id=xxx\n\n// \u6253\u5f00\u767b\u5f55\u754c\u9762\nfb://account/login?callback=xxx\n\n// \u5de5\u5177\u7c7b\n// \u83b7\u53d6\u5b9a\u4f4d\nfb://utils/getgeolocation?callback=xx\n",lang:"plain"}),t.a.createElement("h3",{id:"\u56de\u8c03\u65b9\u6cd5\u8bbe\u8ba1"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u56de\u8c03\u65b9\u6cd5\u8bbe\u8ba1"},t.a.createElement("span",{className:"icon icon-link"})),"\u56de\u8c03\u65b9\u6cd5\u8bbe\u8ba1"),t.a.createElement("p",null,"\u5f53 Native \u64cd\u4f5c\u6210\u529f\u4e4b\u540e\uff0c\u4f1a\u5c06\u5904\u7406\u7ed3\u675f\u540e\u7684\u7ed3\u679c\u6216\u8005\u6570\u636e\u901a\u8fc7 ",t.a.createElement("code",null,"callback")," \u56de\u8c03\u4f20\u7ed9 Web\uff0c\u5f53\u7136\u6709\u6210\u679c\u5c31\u53c8\u5931\u8d25\uff0c",t.a.createElement("code",null,"callback")," \u7684\u53c2\u6570\u8bbe\u8ba1\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a"),t.a.createElement("h4",{id:"\u9519\u8bef\u4f18\u5148"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u9519\u8bef\u4f18\u5148"},t.a.createElement("span",{className:"icon icon-link"})),"\u9519\u8bef\u4f18\u5148"),t.a.createElement("p",null,"\u5373\u4e0b\u9762\u7684\u56de\u8c03\u65b9\u6cd5\u683c\u5f0f\uff1a"),t.a.createElement(c.a,{code:"function callback(error, data) {\n  if (error) {\n    throw error;\n  }\n  console.log(data);\n}\n",lang:"js"}),t.a.createElement("h4",{id:"json-\u7ed3\u6784"},t.a.createElement("a",{"aria-hidden":"true",href:"#json-\u7ed3\u6784"},t.a.createElement("span",{className:"icon icon-link"})),"JSON \u7ed3\u6784"),t.a.createElement("p",null,"\u5373\u56de\u8c03\u65b9\u6cd5\u53ea\u63a5\u6536\u4e00\u4e2a JSON \u5bf9\u8c61\uff0cJSON \u683c\u5f0f\u5982\u4e0b\uff1a"),t.a.createElement(c.a,{code:'{\n  "error_code": 0,\n  "data": {}\n}\n',lang:"json"}),t.a.createElement("h3",{id:"\u9884\u7559\u5347\u7ea7\u65e5\u5fd7\u80fd\u529b"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u9884\u7559\u5347\u7ea7\u65e5\u5fd7\u80fd\u529b"},t.a.createElement("span",{className:"icon icon-link"})),"\u9884\u7559\u5347\u7ea7/\u65e5\u5fd7\u80fd\u529b"),t.a.createElement("p",null,"\u505a APP \u5f00\u53d1\u7ecf\u5e38\u4f1a\u9047\u89c1\u4e0b\u9762\u7684\u95ee\u9898\uff1a"),t.a.createElement("ol",null,t.a.createElement("li",null,"\u529f\u80fd/\u7aef\u80fd\u529b\u662f\u4ece\u67d0\u4e2a\u7248\u672c\u5f00\u59cb\u7684\uff0c\u4f4e\u7248\u672c\u7528\u4e0d\u4e86\uff0c\u4f46\u662f ",t.a.createElement("code",null,"scheme")," \u8fd8\u662f\u4f1a\u8c03\u8d77 APP\u3002"),t.a.createElement("li",null,"\u5bf9\u4e8e\u4f4e\u7248\u672c\uff0cPM \u5e0c\u671b\u63d0\u793a\u7528\u6237\u5347\u7ea7"),t.a.createElement("li",null,"\u7edf\u8ba1\u8c03\u8d77\u6210\u529f\u7387\uff0c\u5206\u53d1\u6b21\u6570\u4e4b\u7c7b\u7684\u7edf\u8ba1\u9700\u6c42")),t.a.createElement("p",null,t.a.createElement("code",null,"scheme")," \u7684 ",t.a.createElement("code",null,"querystring")," \u90e8\u5206\u7531 ",t.a.createElement("code",null,"ios_version/andr_version")," \u548c ",t.a.createElement("code",null,"upgrade")," \u8fd9\u4e09\u4e2a\u6210\u5bf9\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u89e3\u51b3\u5347\u7ea7\u95ee\u9898\uff0c",t.a.createElement("code",null,"sendlog")," \u89e3\u51b3\u65e5\u5fd7\u7edf\u8ba1\u95ee\u9898\u3002"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"ios_version/andr_version"),"\uff1a\u662f\u6807\u793a\u8be5\u534f\u8bae\u7684\u6700\u4f4e\u652f\u6301\u7248\u672c\uff0c\u5982\u679c\u4f4e\u4e8e\u8fd9\u4e2a\u7248\u672c\u53ef\u80fd\u56e0\u4e3a\u529f\u80fd\u5e76\u672a\u5b9e\u73b0\u800c\u80fd\u8bc6\u522b\u3002"),t.a.createElement("li",null,t.a.createElement("code",null,"upgrade"),"\uff1a\u662f\u662f\u5426\u5f3a\u5236\u4f4e\u7248\u672c\u5f39\u51fa\u5347\u7ea7\u5bf9\u8bdd\u6846"),t.a.createElement("li",null,t.a.createElement("code",null,"sendlog"),"\uff1a\u5f53\u4e3a 1 \u7684\u65f6\u5019\uff0c\u5219\u53d1\u9001\u8c03\u8d77\u6210\u529f\u5931\u8d25\u4e4b\u7c7b\u7684\u7edf\u8ba1\u9700\u6c42")),t.a.createElement("h2",{id:"\u7b80\u6613\u4ee3\u7801\u5b9e\u73b0"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u7b80\u6613\u4ee3\u7801\u5b9e\u73b0"},t.a.createElement("span",{className:"icon icon-link"})),"\u7b80\u6613\u4ee3\u7801\u5b9e\u73b0"),t.a.createElement("p",null,"\u7b80\u5355\u5c01\u88c5\u4e0b JSBridge \u8c03\u7528\u7684\u65b9\u6cd5\uff0c\u53c2\u6570\u5982\u4e0b\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"module"),"\uff1a\u7c7b\u540d\u79f0\uff0c\u5982\u679c ",t.a.createElement("code",null,"account")),t.a.createElement("li",null,t.a.createElement("code",null,"action"),"\uff1a\u5177\u4f53\u64cd\u4f5c\u65b9\u6cd5\uff0c\u5982 ",t.a.createElement("code",null,"login")),t.a.createElement("li",null,t.a.createElement("code",null,"args"),"\uff1a\u975e\u5fc5\u987b\uff0c\u534f\u8bae\u53c2\u6570\uff0c\u652f\u6301 ",t.a.createElement("code",null,"string")," \u548c\u5bf9\u8c61"),t.a.createElement("li",null,t.a.createElement("code",null,"callback"),"\uff1a\u975e\u5fc5\u987b\uff0c\u56de\u8c03\u5355\u72ec\u63d0\u51fa\u6765\uff0c\u65b9\u4fbf\u5168\u5c40\u65b9\u6cd5\u547d\u540d")),t.a.createElement("p",null,"\u5177\u4f53\u4ee3\u7801\u5982\u4e0b"),t.a.createElement(c.a,{code:"function invoke(module, action, args, callback) {\n  let scheme = `yourappscheme://${module}/${action}?`;\n  if (isFunction(args)) {\n    callback = args;\n    args = null;\n  }\n  // \u5904\u7406\u4e0b\u53c2\u6570\n  if (isString(args)) {\n    scheme += args;\n  } else if (isObject(args)) {\n    each(args, (k, v) => {\n      if (isObject(v) || isArray(v)) {\n        v = JSON.stringify(v);\n      }\n      scheme += `${k}=${v}`;\n    });\n  }\n  // callback \u72ec\u7acb\u4f20\uff0c\u65b9\u4fbf\u5168\u5c40\u51fd\u6570\u540d\u547d\u540d\n  if (isFunction(callback)) {\n    var funcName = '_jsbridge_cb_' + getId();\n    window[funcName] = function() {\n      callback.apply(window, [].slice.call(arguments, 0));\n    };\n    scheme += (!~scheme.indexOf('?') ? '&' : '?') + `callback=${funcName}`;\n  }\n\n  if (os.ios && versionCompare(os.version, '9.0') >= 0) {\n    window.location.href = scheme;\n  } else {\n    var $node = document.createElement('iframe');\n    $node.style.display = 'none';\n    $node.src = scheme;\n    var body = document.body || document.getElementsByTagName('body')[0];\n    body.appendChild($node);\n    setTimeout(function() {\n      body.removeChild($node);\n      $node = null;\n    }, 10);\n  }\n}\n",lang:"js"}),t.a.createElement("hr",null),t.a.createElement("p",null,t.a.createElement("strong",null,"\u53c2\u8003\u8d44\u6599\uff1a")),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("a",{href:"https://juejin.im/post/6844903648510607373",target:"_blank",rel:"noopener noreferrer"},"Hybrid App \u6280\u672f\u89e3\u6790 -- \u5b9e\u6218\u7bc7",t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},t.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),t.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),t.a.createElement("li",null,t.a.createElement("a",{href:"https://js8.in/2017/03/16/Hybrid%20%E5%BC%80%E5%8F%91%EF%BC%9AJsBridge%20-%20Web%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%8F%8C%E5%90%91%E9%80%9A%E4%BF%A1/",target:"_blank",rel:"noopener noreferrer"},"Hybird \u5f00\u53d1\uff1aJSBridge - Web \u548c\u5ba2\u6237\u7aef\u53cc\u5411\u901a\u4fe1",t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},t.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),t.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))))))}}}]);